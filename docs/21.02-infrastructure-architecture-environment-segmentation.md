21.02 — Infrastructure Architecture & Environment Segmentation

Document ID: 21.02
Title: Infrastructure Architecture & Environment Segmentation
Status: DRAFT → LOCKED UPON APPROVAL
Governing Phase: Phase 21 — Change Control & Post-Baseline Execution

1. Purpose

This document defines the authoritative infrastructure architecture for the platform and enforces strict separation between environments to ensure governance integrity, auditability, and risk containment.

2. Environment Definitions

The platform SHALL operate three distinct environments:

2.1 Development (dev)

Purpose: Active development and experimentation

Access: Restricted to authorised developers

Data: Synthetic or anonymised only

Stability: Non-guaranteed

Audit: Logging enabled, retention reduced

2.2 Staging (staging)

Purpose: Pre-production validation

Access: Restricted

Data: Production-like, no live customer data

Stability: High

Audit: Full logging and retention

2.3 Production (prod)

Purpose: Live operations

Access: Strictly limited

Data: Live customer and transaction data

Stability: Mission-critical

Audit: Immutable, regulator-ready

Rule: No shared databases, secrets, or credentials between environments.

3. Architectural Separation Rules

Environments SHALL be isolated at:

Network level

Credential level

CI/CD pipeline level

No cross-environment access is permitted.

Promotions between environments require pipeline-driven deployment only.

4. Hosting Model Alignment
4.1 Frontend

Platform: Vercel

Environment mapping:

Preview → dev

Preview-protected → staging

Production → prod

4.2 Backend

Platform: DigitalOcean Droplets

Runtime: Docker-based services

Isolation: Separate droplets or node pools per environment

4.3 Databases

MongoDB instances separated per environment

No logical or physical sharing

Backup policies environment-specific

5. Secrets & Configuration Management

Secrets managed via environment variables

No secrets in repositories

Rotation policy enforced

Access logged

6. CI/CD Segmentation

Pipelines are environment-aware

main branch deploys to staging only

Production requires manual approval and tagged release

Failed checks block progression

7. Prohibited Actions

The following are strictly forbidden:

Manual changes in production

Hot-fixes without change records

Environment variable reuse

Shared admin credentials

Violations constitute a governance breach.

8. Audit & Evidence

Infrastructure changes are logged

Logs retained per Data Retention Doctrine

Evidence available for regulator inspection

9. Approval & Lock

This document becomes immutable upon approval.

Approved By: Platform Owner
Approval Date: (today’s date)

☑ Approved