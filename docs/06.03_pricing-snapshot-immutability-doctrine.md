06.03 — Pricing Snapshot Immutability Doctrine
1. Purpose

This document defines the immutable pricing snapshot doctrine governing how commercial terms are frozen, verified, and enforced across checkout, payment, settlement, audit, and dispute processes.

Pricing snapshots are legal and financial artefacts, not transient calculations.

2. Scope

This doctrine applies to:

• Buyer checkout flows
• Supplier pricing inputs
• Discounts and incentives
• Promotions and negotiated pricing
• Payment processing
• Escrow and settlement
• Refunds, disputes, and audits

Any transaction with financial impact is in scope.

3. Core Principle

Once a buyer commits to a transaction:

The pricing snapshot becomes immutable.

No system actor—buyer, supplier, admin, or operator—may alter pricing terms after commitment.

4. Definition of a Pricing Snapshot

A pricing snapshot is a structured, deterministic record containing:

• Product identifiers
• Supplier identifiers
• Base prices
• Discounts and incentives applied
• Shipping and customs (DDP) values
• Taxes
• Platform and service fees
• Currency and exchange rate references
• Timestamp of generation
• Snapshot version
• Cryptographic hash

All components are mandatory.

5. Snapshot Generation Timing

Pricing snapshots must be generated:

• At checkout commitment
• After all validations pass
• Before any payment authorisation

Snapshots generated outside this sequence are invalid.

6. Validation Preconditions

A snapshot may only be generated when:

• Supplier compliance is valid
• Product compliance is valid
• Margin floors are satisfied
• Promotion rules are satisfied
• Currency rules are applied

Invalid inputs block snapshot creation.

7. Hashing & Integrity

Each snapshot must:

• Be cryptographically hashed
• Produce a deterministic hash
• Be stored immutably
• Be verifiable independently

Any hash mismatch invalidates the transaction.

8. Snapshot Referencing

The snapshot ID and hash must be referenced by:

• Order records
• Payment intents
• Escrow records
• Settlement records
• Refunds and disputes
• Audit exports

Unreferenced pricing is prohibited.

9. Snapshot Storage Rules

Snapshots must be:

• Stored as immutable records
• Versioned explicitly
• Access-controlled
• Retained per retention doctrine

Snapshots are never overwritten or deleted.

10. Multi-Provider Payment Integration

All payment providers must:

• Receive the same snapshot reference
• Verify snapshot integrity
• Reject mismatched or missing snapshots

Payments without snapshot verification are blocked.

11. Post-Commitment Changes

Any change after snapshot creation requires:

• Transaction cancellation
• New pricing snapshot
• Explicit re-acceptance by the buyer

Silent changes are prohibited.

12. Dispute & Refund Handling

Refunds and disputes must:

• Reference the original snapshot
• Use snapshot values for calculations
• Preserve the original hash

Reconstructed pricing is invalid.

13. Audit & Legal Evidence

Pricing snapshots must support:

• Full price reconstruction
• Margin verification
• Fee validation
• Legal and regulatory audits

Snapshots are admissible evidence.

14. Failure Handling

If snapshot verification fails:

• Payment is blocked
• Incident record is created
• Escalation rules apply

Integrity failures are treated as critical incidents.

15. Change Control

Changes to snapshot structure or rules require:

• Commercial approval
• Legal review
• Risk assessment
• Versioned doctrine updates

Backward compatibility must be considered.

16. Enforcement Rules

• No payment without a snapshot
• No settlement without snapshot verification
• No snapshot mutation
• No manual overrides

Violations block system progression.

17. Status

Status: DRAFT
Phase: 6 — Commercial, Pricing & Financial Governance
Upstream Dependencies: 06.02 approved
Downstream Dependencies: 06.04 Escrow, Settlement & Funds Release Governance