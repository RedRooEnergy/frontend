11.04 — Carrier Integration & API Governance
1. Purpose

This document governs how external freight carriers and logistics providers integrate with the marketplace, including API behaviour, data boundaries, reliability requirements, and authority limits.

Carriers are execution partners, not system authorities.

2. Governing Principle

Carrier systems may inform shipment status, but may never determine platform truth.

The marketplace shipping engine remains the sole authoritative source of shipment state.

3. Scope

This governance applies to:

• Carrier APIs
• Freight aggregators
• Customs brokers (data interfaces only)
• Tracking and delivery status feeds

Out of scope:

• Commercial pricing negotiation
• Legal freight contracts
• Insurance underwriting

4. Integration Architecture

Carrier integrations must be:

• Asynchronous
• Event-driven
• Non-blocking

No synchronous dependency on carrier availability is permitted.

5. API Access Model

Carrier APIs must:

• Use scoped credentials
• Be limited to shipment-specific access
• Never expose order pricing or buyer PII

Credentials must be rotatable and auditable.

6. Data Directionality

Permitted data flow:

• Platform → Carrier: shipment instructions
• Carrier → Platform: tracking updates

Prohibited data flow:

• Carrier → Platform: state authority
• Carrier → Platform: pricing overrides
• Carrier → Platform: compliance decisions

7. Timeout & Retry Policy

Carrier API calls must:

• Enforce strict timeouts
• Use bounded retries
• Fail closed

Infinite retries, blocking calls, or background spamming are prohibited.

8. Error Classification

Carrier errors must be classified as:

• Transient
• Permanent
• Data Integrity

Each classification triggers defined escalation paths.

9. Tracking Data Governance

Tracking updates:

• Are advisory only
• Must be timestamped
• Must reference a valid shipment ID

Out-of-sequence updates are retained but flagged.

10. Customs & Broker Interfaces

Customs-related interfaces:

• May supply documentation acknowledgements
• May not override HS or duty calculations
• Must preserve original declarations

Broker feedback is informational.

11. Security Requirements

Carrier integrations must:

• Use encrypted transport
• Enforce request signing where available
• Log all request/response metadata

Payloads must be schema-validated.

12. Audit Logging

For every carrier interaction, the system must record:

• Timestamp
• Carrier identifier
• Request type
• Response classification
• Outcome

Logs must be immutable and retained per data retention rules.

13. Failure Handling

On carrier failure:

• Shipment remains in last valid state
• Escrow release is blocked
• CRM case is opened if thresholds are exceeded

Carrier silence must not stall the platform.

14. Change Control

Carrier integration changes require:

• API contract versioning
• Regression testing
• Governance approval

Ad-hoc endpoint changes are prohibited.

15. Decommissioning Rules

Carrier integrations must support:

• Graceful deactivation
• Historical data preservation
• Replay of prior shipment events

Deletion of carrier history is prohibited.

16. Regulatory & Audit Readiness

The system must support:

• Regulator review of carrier interactions
• Shipment-level traceability
• Reconstruction of cross-border flows

17. Status

Status: DRAFT
Phase: 11 — Freight, Logistics & Customs

Upstream Dependencies:
• 11.03 — Shipping System Governance Lock

Downstream Dependencies:
• 11.05 — Shipping Failure, Dispute & Escalation Handling