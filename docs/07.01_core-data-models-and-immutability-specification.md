07.01 — Core Data Models & Immutability Specification

Version: v0.2 DRAFT
Phase: 7 — Core Data Models & Immutability
Upstream Dependencies: Phase 6 — Marketplace Business Rules & Commercial Model
Downstream Dependencies: 07.02 — Hashing & Integrity Implementation
Status: DRAFT (Lock-Ready)

1. Purpose

This document defines the authoritative Core data models required for the marketplace to function as a governed, audit-ready system, and establishes the immutability, versioning, and integrity rules that apply to each model.

These models form the non-negotiable substrate upon which all Extensions depend.

No API, service, UI, workflow, batch process, or integration may exist unless it conforms fully to the models and rules defined in this document.

2. Governing Principle

Data is the system of record, not the interface.

All system truth is derived from persisted data models that are:
• Immutable by default
• Explicitly versioned when change is permitted
• Fully auditable at all times

No interface, projection, cache, or derived view may override persisted Core truth.

3. Core vs Extension Data Boundary
Core data models:

• Exist within the Immutable Core
• Enforce governance, auditability, and integrity
• Cannot be altered by Extensions
• Require formal Change Control to modify

Extension data models:

• May reference Core models
• May be replaced or upgraded independently
• Cannot mutate Core records
• Must respect Core immutability and integrity constraints

Any attempt to weaken or bypass this boundary constitutes a governance breach.

4. Core Data Model Inventory

The following models are mandatory Core models:

• Identity
• Role & Access
• Supplier
• Buyer
• Product
• Compliance Document
• Pricing Snapshot
• Order
• Payment Event
• Freight Event
• Audit Event
• Evidence Pack
• Governance Decision
• Change Control Record

No additional Core models may be added without formal approval via Change Control.

5. Identity Model

Purpose:
Represents authenticated actors in the system.

Key Properties:
• Unique immutable identifier
• Authentication method metadata
• Status (active, suspended, revoked)
• Creation timestamp

Immutability:
• Identity records are immutable post-creation
• Status changes are recorded as versioned events, not mutations

6. Role & Access Model

Purpose:
Defines role-based access control (RBAC).

Key Properties:
• Role name
• Permission set hash
• Effective date
• Scope

Immutability:
• Role definitions are versioned
• Historical role assignments are preserved

7. Supplier Model

Purpose:
Represents governed commercial participants.

Key Properties:
• Legal entity reference
• Compliance status
• Tier status
• Approval state

Immutability:
• Supplier identity is immutable
• All state transitions are recorded as events

8. Buyer Model

Purpose:
Represents purchasing entities.

Key Properties:
• Buyer identity
• Jurisdiction
• Eligibility flags

Immutability:
• Buyer records are immutable
• Eligibility changes are event-based

9. Product Model

Purpose:
Represents governed sellable items.

Key Properties:
• Category
• Attribute template reference
• Compliance references
• Publication state

Immutability:
• Products are versioned on change
• All historical versions are preserved

10. Compliance Document Model

Purpose:
Stores legally and regulatorily relevant documents.

Key Properties:
• Document type
• Issuer
• Validity period
• Cryptographic hash

Immutability:
• Documents are immutable
• Supersession creates a new record

11. Pricing Snapshot Model

Purpose:
Locks commercial terms at the point of commitment.

Key Properties:
• Line-item pricing
• Discounts applied
• Taxes and duties
• Snapshot hash

Immutability:
• Fully immutable
• Referenced by payments, orders, and audits

12. Order Model

Purpose:
Represents a commercial commitment.

Key Properties:
• Linked pricing snapshot
• Buyer and supplier references
• Fulfilment state

Immutability:
• Order core is immutable
• State changes are event-based

13. Payment Event Model

Purpose:
Tracks all financial movements.

Key Properties:
• Provider
• Amount
• Direction
• Status

Immutability:
• Append-only
• No deletion or modification permitted

14. Freight Event Model

Purpose:
Tracks the logistics lifecycle.

Key Properties:
• Carrier
• Status
• Timestamp
• Location metadata

Immutability:
• Append-only

15. Audit Event Model

Purpose:
Provides forensic traceability.

Key Properties:
• Actor
• Action
• Target
• Timestamp
• Hash chain reference

Immutability:
• Absolute
• Tamper-evident

16. Evidence Pack Model

Purpose:
Aggregates artefacts for inspection and review.

Key Properties:
• Referenced records
• Hash manifest
• Export metadata

Immutability:
• Immutable once generated

17. Governance Decision Model

Purpose:
Records formal approvals and rulings.

Key Properties:
• Decision authority
• Scope
• Outcome
• Effective date

Immutability:
• Immutable
• Supersession requires a new decision

18. Change Control Record Model

Purpose:
Controls system evolution.

Key Properties:
• Change description
• Risk assessment
• Approval chain
• Activation date

Immutability:
• Immutable
• Cannot be altered post-approval

19. Hashing & Integrity Strategy

• All immutable records are hashed
• Hashes are chained where applicable
• Hashes are stored separately from data
• Verification tooling must exist

Details are defined in 07.02.

20. Retention & Archival Rules

• Core records are retained indefinitely unless legally permitted otherwise
• Archival does not remove audit accessibility
• Deletion is prohibited except where mandated by law

21. Enforcement Rules

• No direct updates to Core records
• No bypass of event logging
• No external system may overwrite Core data
• Violations trigger system halt and governance escalation

22. Core Supremacy and Precedence (07.01.X)

This document defines the Immutable Core Platform of RedRooEnergy.

In the event of any conflict between this document and any other specification, policy, workflow, implementation decision, or operational artefact, this document takes absolute precedence.

23. Core Immutability Activation (07.01.Y)

The Immutable Core becomes binding and non-modifiable upon formal approval of ETG-001 (Execution Transition Gate) and the first authorised production deployment.

From this point forward, no Core element may be altered except through formal Change Control as defined in CCR-001.

24. Core Boundary Definition (07.01.Z)

Any capability, rule, process, or behaviour not explicitly defined within the Immutable Core is, by definition, an Extension.

Extensions must not alter, bypass, reinterpret, or weaken Core guarantees under any circumstances.

25. Status

Status: DRAFT
Lock Intent: READY
Phase: 7 — Core Data Models & Immutability
Change Control: REQUIRED post-ETG-001